<!--
  Copyright (C) 2009 Orbeon, Inc.

  This program is free software; you can redistribute it and/or modify it under the terms of the
  GNU Lesser General Public License as published by the Free Software Foundation; either version
  2.1 of the License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  See the GNU Lesser General Public License for more details.

  The full text of the license is available at http://www.gnu.org/copyleft/lesser.html
  -->
<xxf:dialog
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:xh="http://www.w3.org/1999/xhtml"
    xmlns:xxf="http://orbeon.org/oxf/xml/xforms"
    xmlns:xf="http://www.w3.org/2002/xforms"
    xmlns:fr="http://orbeon.org/oxf/xml/form-runner"

    id="fr-clear-confirm-dialog"
    level="modal"
    close="false"
    draggable="true"
    class="fr-dialog fr-clear-confirm-dialog">

    <xf:label ref="$fr-resources/detail/labels/confirm"/>

    <xh:div>
        <xh:i class="fa fa-fw  fa-exclamation-circle fr-dialog-icon"/>
        <xh:div class="fr-dialog-message">
            <xf:output value="$fr-resources/detail/messages/clear-confirm-message"/>
        </xh:div>
    </xh:div>
    <xh:div class="fr-dialog-buttons">
        <xf:group>
            <xxf:hide ev:event="DOMActivate" dialog="fr-clear-confirm-dialog"/>
            <xf:trigger appearance="xxf:danger">
                <xf:label mediatype="text/html" value="$fr-resources/buttons/clear"/>
                <xf:action event="DOMActivate" type="xpath">
                    fr:run-process('oxf.fr.detail.process', 'resume')
                </xf:action>
            </xf:trigger>
            <xf:trigger id="fr-clear-confirm-dialog-cancel" appearance="xxf:primary">
                <xf:label mediatype="text/html" value="$fr-resources/buttons/cancel"/>
                <xf:action event="DOMActivate" type="xpath">
                    fr:run-process('oxf.fr.detail.process', 'abort')
                </xf:action>
            </xf:trigger>
        </xf:group>
    </xh:div>

    <!-- Focus on Cancel button first as that is the least dangerous operation -->
    <xf:setfocus ev:event="xxforms-dialog-open" control="fr-clear-confirm-dialog-cancel"/>

</xxf:dialog>
